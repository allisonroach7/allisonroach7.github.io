<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thank You for Your Purchase!</title>
    <script src="scripts/secondbeatdynamic.js" defer></script>
    <style src ="styles/thanks.css">
    </style>
</head>
<body>
    <header id="dynamic-header"></header>
    <main>
    <div class="container">
        <div class="thank-you-card">
            <div class="icon">âœ“</div>
            <h1>Thank You for Your Purchase!</h1>
            <p>Your order has been received and is being processed. We've sent a confirmation email with all the details.</p>
            
            <div class="order-details">
                <h3>Order Summary</h3>
                <div class="order-info">
                    <span>Order Number:</span>
                    <span id="order-number">Loading...</span>
                </div>
                <div class="order-info">
                    <span>Date:</span>
                    <span id="order-date">Loading...</span>
                </div>
                <div class="order-info">
                    <span>Total:</span>
                    <span id="order-total">Loading...</span>
                </div>
            </div>
            
            <p>We appreciate your business and hope you enjoy your purchase!</p>
            
            <div class="action-buttons">
                <a href="index.html" class="btn">Continue Shopping</a>
                <a href="contactus.html" class="btn btn-secondary">Contact Us</a>
            </div>
        </div>
    </div>
</main>
<footer id="dynamic-footer"></footer>

    <script>
        // These order details are simulated, because the Shop API has not been implemented yet
        document.addEventListener('DOMContentLoaded', function() {
            // Generate a random order number
            const orderNumber = 'ORD-' + Math.floor(Math.random() * 1000000);
            document.getElementById('order-number').textContent = orderNumber;
            
            // Set current date
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            const today = new Date();
            document.getElementById('order-date').textContent = today.toLocaleDateString('en-US', options);
            
            // Get total from URL parameter or localStorage (simulated here)
            const urlParams = new URLSearchParams(window.location.search);
            const total = urlParams.get('total') || localStorage.getItem('orderTotal') || '$49.99';
            document.getElementById('order-total').textContent = total;
            
            // Save this order data to localStorage
            const orderData = {
                number: orderNumber,
                date: today,
                total: total
            };
            localStorage.setItem('lastOrder', JSON.stringify(orderData));
            
            // Track the conversion 
            console.log('Purchase completed:', orderData);
        });
    </script>
</body>
</html>